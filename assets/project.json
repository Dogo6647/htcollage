{"targets":[{"isStage":true,"name":"Stage","variables":{"`jEk@4|i[#Fk?(8x)AV.-my variable":["whodisplay","↓ player - me:true sync:true/true"],"yG%/[]HrLM.Gx`K_-gwD":["☁ htmlTransmitted","",true],"-lKhL}t`#r$hx9MBDz5#":["textareaHTML","<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>htcollage textarea</title>\r\n    <style>\r\n        html, body {\r\n            height: 100%;\r\n            margin: 0;\r\n            overflow: hidden;\r\n        }\r\n        textarea {\r\n            width: 100%;\r\n            height: 100%;\r\n            border: none;\r\n            outline: none;\r\n            padding: 10px;\r\n            box-sizing: border-box;\r\n            font-family: monospace;\r\n            resize: none;\r\n            white-space: pre;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <textarea id=\"editor\" placeholder=\"Be the first to share something cool!\"></textarea>\r\n\r\n    <script>\r\n        const textarea = document.getElementById('editor');\r\n\r\n        function getQueryParam(name) {\r\n            const params = new URLSearchParams(window.location.search);\r\n            return params.get(name) ? decodeURIComponent(params.get(name)) : \"\";\r\n        }\r\n\r\n        function updateURL(text) {\r\n            const params = new URLSearchParams();\r\n            params.set('text', encodeURIComponent(text));\r\n            \r\n            window.history.replaceState(null, '', '?' + params.toString());\r\n        }\r\n\r\n        function sendMessageToParent() {\r\n            if (window !== window.parent) {\r\n                window.parent.postMessage(textarea.value, \"*\");  // Send text content to Scratch extension\r\n            }\r\n        }\r\n\r\n        // Load text from URL parameters\r\n        textarea.value = getQueryParam('text');\r\n\r\n        textarea.addEventListener('input', () => {\r\n            updateURL(textarea.value);\r\n            sendMessageToParent(); // Notify Scratch extension\r\n        });\r\n\r\n        textarea.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Tab') {\r\n                e.preventDefault();\r\n                const start = textarea.selectionStart;\r\n                const end = textarea.selectionEnd;\r\n\r\n                textarea.value = textarea.value.substring(0, start) + \"\\t\" + textarea.value.substring(end);\r\n                textarea.selectionStart = textarea.selectionEnd = start + 1;\r\n\r\n                sendMessageToParent(); // Ensure Scratch gets updates even when using Tab\r\n            }\r\n        });\r\n\r\n        // Send initial message on load\r\n        sendMessageToParent();\r\n    </script>\r\n</body>\r\n</html>\r\n"],"ihes@J=wvWklDk{RgN9X":["activeView","code"],":f,.AMzIgnsS?HVqMZE-":["☁ who","4517725247373673",true],"j{@YG^U[e]T}%wa~4NrF":["cachedHtmlTransmitted",""],"Ymom$(?(j3QkCsw];KmH":["cachedIframeMessage",""],"dl;0.?+L7]p}l-!+L/Zp":["cooldown",0],"Eejtc(iCje:t]y!4=OKQ":["☁ refresh","0",true]},"lists":{},"broadcasts":{"ZMCG.V9Rjs1GmGj{?yGr":"message1","Db6#Oj)HSCvV|~BV_q/R":"sendRefresh"},"blocks":{},"comments":{"bp":{"blockId":null,"x":50,"y":50,"width":350,"height":170,"minimized":false,"text":"Configuration for https://turbowarp.org/\nYou can move, resize, and minimize this comment, but don't edit it by hand. This comment can be deleted to remove the stored settings.\n{\"width\":640} // _twconfig_"}},"currentCostume":0,"costumes":[{"name":"backdrop1","bitmapResolution":1,"dataFormat":"svg","assetId":"81ce9754169afabc5f01e4d041c5b3ec","md5ext":"81ce9754169afabc5f01e4d041c5b3ec.svg","rotationCenterX":321.87732500000004,"rotationCenterY":180.990755}],"sounds":[],"volume":100,"layerOrder":0,"tempo":60,"videoTransparency":50,"videoState":"on","textToSpeechLanguage":"en"},{"isStage":false,"name":"tabManager","variables":{},"lists":{},"broadcasts":{},"blocks":{"aB":{"opcode":"event_whenflagclicked","next":"O","parent":null,"inputs":{},"fields":{},"topLevel":true},"O":{"opcode":"data_setvariableto","next":"f","parent":"aB","inputs":{"VALUE":[1,[10,"code"]]},"fields":{"VARIABLE":["activeView","ihes@J=wvWklDk{RgN9X"]}},"f":{"opcode":"looks_switchcostumeto","next":"P","parent":"O","inputs":{"COSTUME":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],"aC"]},"fields":{}},"aC":{"opcode":"looks_costume","next":null,"parent":"f","inputs":{},"fields":{"COSTUME":["code",null]},"shadow":true},"P":{"opcode":"control_forever","next":null,"parent":"f","inputs":{"SUBSTACK":[2,"g"]},"fields":{}},"g":{"opcode":"control_if","next":null,"parent":"P","inputs":{"CONDITION":[2,"h"],"SUBSTACK":[2,"Q"]},"fields":{}},"h":{"opcode":"operator_and","next":null,"parent":"g","inputs":{"OPERAND1":[2,"R"],"OPERAND2":[2,"aD"]},"fields":{}},"R":{"opcode":"sensing_touchingobject","next":null,"parent":"h","inputs":{"TOUCHINGOBJECTMENU":[1,"aE"]},"fields":{}},"aE":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"R","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"aD":{"opcode":"sensing_mousedown","next":null,"parent":"h","inputs":{},"fields":{}},"Q":{"opcode":"looks_seteffectto","next":"i","parent":"g","inputs":{"VALUE":[1,[4,"25"]]},"fields":{"EFFECT":["GHOST",null]}},"i":{"opcode":"control_wait_until","next":"S","parent":"Q","inputs":{"CONDITION":[2,"T"]},"fields":{}},"T":{"opcode":"operator_not","next":null,"parent":"i","inputs":{"OPERAND":[2,"aF"]},"fields":{}},"aF":{"opcode":"sensing_mousedown","next":null,"parent":"T","inputs":{},"fields":{}},"S":{"opcode":"looks_seteffectto","next":"j","parent":"i","inputs":{"VALUE":[1,[4,"0"]]},"fields":{"EFFECT":["GHOST",null]}},"j":{"opcode":"control_if","next":null,"parent":"S","inputs":{"CONDITION":[2,"U"],"SUBSTACK":[2,"V"]},"fields":{}},"U":{"opcode":"sensing_touchingobject","next":null,"parent":"j","inputs":{"TOUCHINGOBJECTMENU":[1,"aG"]},"fields":{}},"aG":{"opcode":"sensing_touchingobjectmenu","next":null,"parent":"U","inputs":{},"fields":{"TOUCHINGOBJECTMENU":["_mouse_",null]},"shadow":true},"V":{"opcode":"looks_nextcostume","next":"k","parent":"j","inputs":{},"fields":{}},"k":{"opcode":"data_setvariableto","next":"a","parent":"V","inputs":{"VALUE":[3,"aH",[10,"0"]]},"fields":{"VARIABLE":["activeView","ihes@J=wvWklDk{RgN9X"]}},"aH":{"opcode":"looks_costumenumbername","next":null,"parent":"k","inputs":{},"fields":{"NUMBER_NAME":["name",null]}},"a":{"opcode":"control_if_else","next":null,"parent":"k","inputs":{"CONDITION":[2,"aI"],"SUBSTACK":[2,"W"],"SUBSTACK2":[2,"X"]},"fields":{}},"aI":{"opcode":"operator_equals","next":null,"parent":"a","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"code"]]},"fields":{}},"W":{"opcode":"motion_movesteps","next":"l","parent":"a","inputs":{"STEPS":[1,[4,"-5"]]},"fields":{}},"l":{"opcode":"control_repeat","next":"aJ","parent":"W","inputs":{"TIMES":[1,[6,"5"]],"SUBSTACK":[2,"Y"]},"fields":{}},"Y":{"opcode":"motion_changexby","next":"aK","parent":"l","inputs":{"DX":[1,[4,"1"]]},"fields":{}},"aK":{"opcode":"control_wait","next":null,"parent":"Y","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"aJ":{"opcode":"motion_gotoxy","next":null,"parent":"l","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"X":{"opcode":"motion_movesteps","next":"m","parent":"a","inputs":{"STEPS":[1,[4,"5"]]},"fields":{}},"m":{"opcode":"control_repeat","next":"aL","parent":"X","inputs":{"TIMES":[1,[6,"5"]],"SUBSTACK":[2,"Z"]},"fields":{}},"Z":{"opcode":"motion_changexby","next":"aM","parent":"m","inputs":{"DX":[1,[4,"-1"]]},"fields":{}},"aM":{"opcode":"control_wait","next":null,"parent":"Z","inputs":{"DURATION":[1,[5,"0"]]},"fields":{}},"aL":{"opcode":"motion_gotoxy","next":null,"parent":"m","inputs":{"X":[1,[4,"0"]],"Y":[1,[4,"0"]]},"fields":{}},"aN":{"opcode":"event_whenflagclicked","next":"!","parent":null,"inputs":{},"fields":{},"topLevel":true},"!":{"opcode":"control_forever","next":null,"parent":"aN","inputs":{"SUBSTACK":[2,"n"]},"fields":{}},"n":{"opcode":"control_if","next":null,"parent":"!","inputs":{"CONDITION":[2,"aO"],"SUBSTACK":[2,"#"]},"fields":{}},"aO":{"opcode":"operator_equals","next":null,"parent":"n","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"code"]]},"fields":{}},"o":{"opcode":"iframe_display","next":"%","parent":"#","inputs":{"URL":[3,"(",[10,"https://dogo6647.github.io/htcollage/textarea.html?text="]]},"fields":{}},"(":{"opcode":"operator_join","next":null,"parent":"o","inputs":{"STRING1":[1,[10,"https://dogo6647.github.io/htcollage/textarea.html?text="]],"STRING2":[3,"p",[10,"banana"]]},"fields":{}},"p":{"opcode":"Encoding_encode","next":null,"parent":"(","inputs":{"string":[3,"aP",[10,"apple"]],"code":[1,"aQ"]},"fields":{}},"aP":{"opcode":"numericalencoding2_decode","next":null,"parent":"p","inputs":{"TEXT":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{}},"aQ":{"opcode":"Encoding_menu_encode","next":null,"parent":"p","inputs":{},"fields":{"encode":["URL",null]},"shadow":true},"%":{"opcode":"control_wait_until","next":null,"parent":"o","inputs":{"CONDITION":[2,")"]},"fields":{}},")":{"opcode":"operator_not","next":null,"parent":"%","inputs":{"OPERAND":[2,"aR"]},"fields":{}},"aR":{"opcode":"operator_equals","next":null,"parent":")","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"code"]]},"fields":{}},"aS":{"opcode":"event_whenflagclicked","next":"*","parent":null,"inputs":{},"fields":{},"topLevel":true},"*":{"opcode":"iframe_setX","next":"+","parent":"aS","inputs":{"X":[1,[4,"0"]]},"fields":{}},"+":{"opcode":"iframe_setY","next":",","parent":"*","inputs":{"Y":[1,[4,"-18"]]},"fields":{}},",":{"opcode":"iframe_setWidth","next":"-","parent":"+","inputs":{"WIDTH":[1,[4,"640"]]},"fields":{}},"-":{"opcode":"iframe_setHeight","next":"q","parent":",","inputs":{"HEIGHT":[1,[4,"324"]]},"fields":{}},"q":{"opcode":"iframe_setInteractive","next":".","parent":"-","inputs":{"INTERACTIVE":[1,"aT"]},"fields":{}},"aT":{"opcode":"iframe_menu_interactiveMenu","next":null,"parent":"q","inputs":{},"fields":{"interactiveMenu":["true",null]},"shadow":true},".":{"opcode":"iframe_setResize","next":null,"parent":"q","inputs":{"RESIZE":[1,"aU"]},"fields":{}},"aU":{"opcode":"iframe_menu_resizeMenu","next":null,"parent":".","inputs":{},"fields":{"resizeMenu":["viewport",null]},"shadow":true},"aV":{"opcode":"event_whenflagclicked","next":"/","parent":null,"inputs":{},"fields":{},"topLevel":true},"/":{"opcode":"control_forever","next":null,"parent":"aV","inputs":{"SUBSTACK":[2,"r"]},"fields":{}},"r":{"opcode":"control_if","next":null,"parent":"/","inputs":{"CONDITION":[2,"aW"],"SUBSTACK":[2,":"]},"fields":{}},"aW":{"opcode":"operator_equals","next":null,"parent":"r","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"view"]]},"fields":{}},"s":{"opcode":"iframe_displayHTML","next":";","parent":":","inputs":{"HTML":[3,"=",[10,"<h1>It works!</h1>"]]},"fields":{}},"aX":{"opcode":"numericalencoding2_decode","next":null,"parent":"=","inputs":{"TEXT":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{}},";":{"opcode":"control_wait_until","next":null,"parent":"s","inputs":{"CONDITION":[2,"?"]},"fields":{}},"?":{"opcode":"operator_not","next":null,"parent":";","inputs":{"OPERAND":[2,"aY"]},"fields":{}},"aY":{"opcode":"operator_equals","next":null,"parent":"?","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"view"]]},"fields":{}},"aZ":{"opcode":"event_whenflagclicked","next":"@","parent":null,"inputs":{},"fields":{},"topLevel":true},"[":{"opcode":"control_if","next":"]","parent":null,"inputs":{"CONDITION":[2,"a!"],"SUBSTACK":[1,null]},"fields":{},"topLevel":true},"a!":{"opcode":"operator_not","next":null,"parent":"[","inputs":{"OPERAND":[1,null]},"fields":{}},"a#":{"opcode":"event_whenflagclicked","next":"^","parent":null,"inputs":{},"fields":{},"topLevel":true},"^":{"opcode":"control_forever","next":null,"parent":"a#","inputs":{"SUBSTACK":[2,"_"]},"fields":{}},"_":{"opcode":"data_setvariableto","next":null,"parent":"^","inputs":{"VALUE":[3,"t",[10,"0"]]},"fields":{"VARIABLE":["whodisplay","`jEk@4|i[#Fk?(8x)AV.-my variable"]}},"`":{"opcode":"operator_join","next":null,"parent":"t","inputs":{"STRING1":[1,[10,"↓ "]],"STRING2":[3,"a%",[10,"banana"]]},"fields":{}},"a%":{"opcode":"numericalencoding2_decode","next":null,"parent":"`","inputs":{"TEXT":[3,[12,"☁ who",":f,.AMzIgnsS?HVqMZE-"],[10,"0"]]},"fields":{}},"t":{"opcode":"operator_join","next":null,"parent":"_","inputs":{"STRING1":[3,"`",[10,"apple "]],"STRING2":[3,"u",[10,"banana"]]},"fields":{}},"u":{"opcode":"operator_join","next":null,"parent":"t","inputs":{"STRING1":[3,"{",[10," - "]],"STRING2":[3,"|",[10,"banana"]]},"fields":{}},"#":{"opcode":"iframe_close","next":"o","parent":"n","inputs":{},"fields":{}},":":{"opcode":"iframe_close","next":"s","parent":"r","inputs":{},"fields":{}},"]":{"opcode":"data_setvariableto","next":"}","parent":"[","inputs":{"VALUE":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{"VARIABLE":["cachedHtmlTransmitted","j{@YG^U[e]T}%wa~4NrF"]}},"}":{"opcode":"data_setvariableto","next":null,"parent":"]","inputs":{"VALUE":[3,"a(",[10,"0"]]},"fields":{"VARIABLE":["cachedIframeMessage","Ymom$(?(j3QkCsw];KmH"]}},"a(":{"opcode":"iframeListener_getMessage","next":null,"parent":"}","inputs":{},"fields":{}},"a)":{"opcode":"event_whenflagclicked","next":"~","parent":null,"inputs":{},"fields":{},"topLevel":true},"@":{"opcode":"control_forever","next":null,"parent":"aZ","inputs":{"SUBSTACK":[2,"v"]},"fields":{}},"v":{"opcode":"control_if","next":null,"parent":"@","inputs":{"CONDITION":[2,"w"],"SUBSTACK":[2,"aa"]},"fields":{}},"ab":{"opcode":"operator_not","next":null,"parent":"x","inputs":{"OPERAND":[2,"a*"]},"fields":{}},"a*":{"opcode":"operator_equals","next":null,"parent":"ab","inputs":{"OPERAND1":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,""]],"OPERAND2":[3,[12,"cachedHtmlTransmitted","j{@YG^U[e]T}%wa~4NrF"],[10,"50"]]},"fields":{}},"y":{"opcode":"sound_seteffectto","next":"z","parent":"aa","inputs":{"VALUE":[3,"a+",[4,"100"]]},"fields":{"EFFECT":["PITCH",null]}},"a+":{"opcode":"operator_random","next":null,"parent":"y","inputs":{"FROM":[1,[4,"-20"]],"TO":[1,[4,"20"]]},"fields":{}},"z":{"opcode":"sound_play","next":"b","parent":"y","inputs":{"SOUND_MENU":[1,"a,"]},"fields":{}},"a,":{"opcode":"sound_sounds_menu","next":null,"parent":"z","inputs":{},"fields":{"SOUND_MENU":["Crank2",null]},"shadow":true},"b":{"opcode":"control_if","next":"c","parent":"z","inputs":{"CONDITION":[2,"a-"],"SUBSTACK":[2,"ac"]},"fields":{}},"a-":{"opcode":"operator_equals","next":null,"parent":"b","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"view"]]},"fields":{}},"ac":{"opcode":"iframe_close","next":"ad","parent":"b","inputs":{},"fields":{}},"ad":{"opcode":"iframe_displayHTML","next":null,"parent":"ac","inputs":{"HTML":[3,"a.",[10,"<h1>It works!</h1>"]]},"fields":{}},"a.":{"opcode":"numericalencoding2_decode","next":null,"parent":"ad","inputs":{"TEXT":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{}},"c":{"opcode":"control_if","next":"ae","parent":"b","inputs":{"CONDITION":[2,"a/"],"SUBSTACK":[2,"af"]},"fields":{}},"a/":{"opcode":"operator_equals","next":null,"parent":"c","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"code"]]},"fields":{}},"af":{"opcode":"iframe_close","next":"ag","parent":"c","inputs":{},"fields":{}},"ag":{"opcode":"iframe_display","next":null,"parent":"af","inputs":{"URL":[3,"ah",[10,"https://dogo6647.github.io/htcollage/textarea.html?text="]]},"fields":{}},"ah":{"opcode":"operator_join","next":null,"parent":"ag","inputs":{"STRING1":[1,[10,"https://dogo6647.github.io/htcollage/textarea.html?text="]],"STRING2":[3,"A",[10,"banana"]]},"fields":{}},"A":{"opcode":"Encoding_encode","next":null,"parent":"ah","inputs":{"string":[3,"a:",[10,"apple"]],"code":[1,"a;"]},"fields":{}},"a:":{"opcode":"numericalencoding2_decode","next":null,"parent":"A","inputs":{"TEXT":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{}},"a;":{"opcode":"Encoding_menu_encode","next":null,"parent":"A","inputs":{},"fields":{"encode":["URL",null]},"shadow":true},"ae":{"opcode":"data_setvariableto","next":"a=","parent":"c","inputs":{"VALUE":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{"VARIABLE":["cachedHtmlTransmitted","j{@YG^U[e]T}%wa~4NrF"]}},"ai":{"opcode":"control_forever","next":null,"parent":"~","inputs":{"SUBSTACK":[2,"B"]},"fields":{}},"C":{"opcode":"control_if","next":null,"parent":"d","inputs":{"CONDITION":[2,"D"],"SUBSTACK":[2,"E"]},"fields":{}},"aj":{"opcode":"operator_not","next":null,"parent":"D","inputs":{"OPERAND":[2,"ak"]},"fields":{}},"ak":{"opcode":"operator_equals","next":null,"parent":"aj","inputs":{"OPERAND1":[3,[12,"cachedIframeMessage","Ymom$(?(j3QkCsw];KmH"],[10,""]],"OPERAND2":[3,"a?",[10,"50"]]},"fields":{}},"a?":{"opcode":"iframeListener_getMessage","next":null,"parent":"ak","inputs":{},"fields":{}},"E":{"opcode":"sound_seteffectto","next":"F","parent":"C","inputs":{"VALUE":[3,"a@",[4,"100"]]},"fields":{"EFFECT":["PITCH",null]}},"a@":{"opcode":"operator_random","next":null,"parent":"E","inputs":{"FROM":[1,[4,"-20"]],"TO":[1,[4,"20"]]},"fields":{}},"F":{"opcode":"sound_play","next":"e","parent":"E","inputs":{"SOUND_MENU":[1,"a["]},"fields":{}},"a[":{"opcode":"sound_sounds_menu","next":null,"parent":"F","inputs":{},"fields":{"SOUND_MENU":["Crank",null]},"shadow":true},"e":{"opcode":"control_if","next":"al","parent":"F","inputs":{"CONDITION":[2,"a]"],"SUBSTACK":[2,"G"]},"fields":{}},"a]":{"opcode":"operator_equals","next":null,"parent":"e","inputs":{"OPERAND1":[3,[12,"activeView","ihes@J=wvWklDk{RgN9X"],[10,""]],"OPERAND2":[1,[10,"code"]]},"fields":{}},"G":{"opcode":"data_setvariableto","next":"am","parent":"e","inputs":{"VALUE":[3,"an",[10,"0"]]},"fields":{"VARIABLE":["☁ who",":f,.AMzIgnsS?HVqMZE-"]}},"an":{"opcode":"numericalencoding2_encode","next":null,"parent":"G","inputs":{"TEXT":[3,"a^",[10,"Hello"]]},"fields":{}},"a^":{"opcode":"sensing_username","next":null,"parent":"an","inputs":{},"fields":{}},"ao":{"opcode":"data_setvariableto","next":null,"parent":"am","inputs":{"VALUE":[3,"ap",[10,"0"]]},"fields":{"VARIABLE":["☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"]}},"ap":{"opcode":"numericalencoding2_encode","next":null,"parent":"ao","inputs":{"TEXT":[3,"a_",[10,"Hello"]]},"fields":{}},"a_":{"opcode":"iframeListener_getMessage","next":null,"parent":"ap","inputs":{},"fields":{}},"al":{"opcode":"data_setvariableto","next":null,"parent":"e","inputs":{"VALUE":[3,"a`",[10,"0"]]},"fields":{"VARIABLE":["cachedIframeMessage","Ymom$(?(j3QkCsw];KmH"]}},"a`":{"opcode":"iframeListener_getMessage","next":null,"parent":"al","inputs":{},"fields":{}},"w":{"opcode":"operator_and","next":null,"parent":"v","inputs":{"OPERAND2":[2,"aq"],"OPERAND1":[2,"x"]},"fields":{}},"ar":{"opcode":"data_setvariableto","next":null,"parent":"d","inputs":{"VALUE":[3,"a{",[10,"0"]]},"fields":{"VARIABLE":["cachedIframeMessage","Ymom$(?(j3QkCsw];KmH"]}},"a|":{"opcode":"event_whenflagclicked","next":"as","parent":null,"inputs":{},"fields":{},"topLevel":true},"as":{"opcode":"data_setvariableto","next":"H","parent":"a|","inputs":{"VALUE":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,""]]},"fields":{"VARIABLE":["cachedHtmlTransmitted","j{@YG^U[e]T}%wa~4NrF"]}},"at":{"opcode":"control_forever","next":null,"parent":"H","inputs":{"SUBSTACK":[2,"d"]},"fields":{}},"I":{"opcode":"operator_and","next":null,"parent":"au","inputs":{"OPERAND1":[2,"av"],"OPERAND2":[2,"aw"]},"fields":{}},"av":{"opcode":"operator_not","next":null,"parent":"I","inputs":{"OPERAND":[2,"a}"]},"fields":{}},"a}":{"opcode":"operator_equals","next":null,"parent":"av","inputs":{"OPERAND1":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,""]],"OPERAND2":[3,[12,"cachedHtmlTransmitted","j{@YG^U[e]T}%wa~4NrF"],[10,"50"]]},"fields":{}},"aw":{"opcode":"operator_not","next":null,"parent":"I","inputs":{"OPERAND":[2,"J"]},"fields":{}},"J":{"opcode":"operator_equals","next":null,"parent":"aw","inputs":{"OPERAND1":[3,"a~",[10,""]],"OPERAND2":[3,"ba",[10,"50"]]},"fields":{}},"ba":{"opcode":"sensing_username","next":null,"parent":"J","inputs":{},"fields":{}},"a{":{"opcode":"numericalencoding2_decode","next":null,"parent":"ar","inputs":{"TEXT":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{}},"d":{"opcode":"control_repeat_until","next":"C","parent":"at","inputs":{"CONDITION":[2,"K"],"SUBSTACK":[2,"ar"]},"fields":{}},"au":{"opcode":"operator_not","next":null,"parent":"K","inputs":{"OPERAND":[2,"I"]},"fields":{}},"bb":{"opcode":"operator_equals","next":null,"parent":"ax","inputs":{"OPERAND1":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,""]],"OPERAND2":[3,[12,"cachedHtmlTransmitted","j{@YG^U[e]T}%wa~4NrF"],[10,"50"]]},"fields":{}},"|":{"opcode":"operator_join","next":null,"parent":"u","inputs":{"STRING1":[1,[10," sync:"]],"STRING2":[3,"ay",[10,""]]},"fields":{}},"{":{"opcode":"operator_join","next":null,"parent":"u","inputs":{"STRING1":[1,[10," - me:"]],"STRING2":[3,"L",[10,""]]},"fields":{}},"ay":{"opcode":"operator_join","next":null,"parent":"|","inputs":{"STRING1":[3,"M",[10," me:"]],"STRING2":[1,[10,""]]},"fields":{}},"H":{"opcode":"data_setvariableto","next":"at","parent":"as","inputs":{"VALUE":[3,"bc",[10,"0"]]},"fields":{"VARIABLE":["cachedIframeMessage","Ymom$(?(j3QkCsw];KmH"]}},"bc":{"opcode":"numericalencoding2_decode","next":null,"parent":"H","inputs":{"TEXT":[3,[12,"☁ htmlTransmitted","yG%/[]HrLM.Gx`K_-gwD"],[10,"0"]]},"fields":{}},"a~":{"opcode":"numericalencoding2_decode","next":null,"parent":"J","inputs":{"TEXT":[3,[12,"☁ who",":f,.AMzIgnsS?HVqMZE-"],[10,"0"]]},"fields":{}},"aq":{"opcode":"operator_not","next":null,"parent":"w","inputs":{"OPERAND":[2,"N"]},"fields":{}},"N":{"opcode":"operator_equals","next":null,"parent":"aq","inputs":{"OPERAND1":[3,"bd",[10,""]],"OPERAND2":[3,"be",[10,"50"]]},"fields":{}},"bd":{"opcode":"numericalencoding2_decode","next":null,"parent":"N","inputs":{"TEXT":[3,[12,"☁ who",":f,.AMzIgnsS?HVqMZE-"],[10,"0"]]},"fields":{}},"be":{"opcode":"sensing_username","next":null,"parent":"N","inputs":{},"fields":{}},"L":{"opcode":"operator_equals","next":null,"parent":"{","inputs":{"OPERAND1":[3,"bf",[10,""]],"OPERAND2":[3,"bg",[10,"50"]]},"fields":{}},"bf":{"opcode":"numericalencoding2_decode","next":null,"parent":"L","inputs":{"TEXT":[3,[12,"☁ who",":f,.AMzIgnsS?HVqMZE-"],[10,"0"]]},"fields":{}},"bg":{"opcode":"sensing_username","next":null,"parent":"L","inputs":{},"fields":{}},"aa":{"opcode":"data_setvariableto","next":"y","parent":"v","inputs":{"VALUE":[1,[10,"2"]]},"fields":{"VARIABLE":["cooldown","dl;0.?+L7]p}l-!+L/Zp"]}},"bh":{"opcode":"data_changevariableby","next":null,"parent":"az","inputs":{"VALUE":[1,[4,"-1"]]},"fields":{"VARIABLE":["cooldown","dl;0.?+L7]p}l-!+L/Zp"]}},"az":{"opcode":"control_wait","next":"bh","parent":"B","inputs":{"DURATION":[1,[5,"0.5"]]},"fields":{}},"bi":{"opcode":"operator_lt","next":null,"parent":"K","inputs":{"OPERAND1":[3,[12,"cooldown","dl;0.?+L7]p}l-!+L/Zp"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"K":{"opcode":"operator_and","next":null,"parent":"d","inputs":{"OPERAND2":[2,"bi"],"OPERAND1":[2,"au"]},"fields":{}},"bj":{"opcode":"operator_lt","next":null,"parent":"B","inputs":{"OPERAND1":[3,[12,"cooldown","dl;0.?+L7]p}l-!+L/Zp"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"B":{"opcode":"control_repeat_until","next":null,"parent":"ai","inputs":{"SUBSTACK":[2,"az"],"CONDITION":[2,"bj"]},"fields":{}},"~":{"opcode":"data_setvariableto","next":"ai","parent":"a)","inputs":{"VALUE":[1,[10,"2"]]},"fields":{"VARIABLE":["cooldown","dl;0.?+L7]p}l-!+L/Zp"]}},"bk":{"opcode":"operator_lt","next":null,"parent":"D","inputs":{"OPERAND1":[3,[12,"cooldown","dl;0.?+L7]p}l-!+L/Zp"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"D":{"opcode":"operator_and","next":null,"parent":"C","inputs":{"OPERAND1":[2,"aj"],"OPERAND2":[2,"bk"]},"fields":{}},"M":{"opcode":"operator_join","next":null,"parent":"ay","inputs":{"STRING1":[3,"ax",[10,"sync:"]],"STRING2":[3,"aA",[10,"banana"]]},"fields":{}},"aA":{"opcode":"operator_equals","next":null,"parent":"M","inputs":{"OPERAND1":[3,[12,"cachedIframeMessage","Ymom$(?(j3QkCsw];KmH"],[10,""]],"OPERAND2":[3,"bl",[10,"50"]]},"fields":{}},"bl":{"opcode":"iframeListener_getMessage","next":null,"parent":"aA","inputs":{},"fields":{}},"ax":{"opcode":"operator_join","next":null,"parent":"M","inputs":{"STRING1":[3,"bb",[10,"apple "]],"STRING2":[1,[10,"/"]]},"fields":{}},"am":{"opcode":"event_broadcast","next":"ao","parent":"G","inputs":{"BROADCAST_INPUT":[1,[11,"sendRefresh","Db6#Oj)HSCvV|~BV_q/R"]]},"fields":{}},"bm":{"opcode":"event_whenbroadcastreceived","next":"bn","parent":null,"inputs":{},"fields":{"BROADCAST_OPTION":["sendRefresh","Db6#Oj)HSCvV|~BV_q/R"]},"topLevel":true},"bn":{"opcode":"data_setvariableto","next":null,"parent":"bm","inputs":{"VALUE":[1,[10,"1"]]},"fields":{"VARIABLE":["☁ refresh","Eejtc(iCje:t]y!4=OKQ"]}},"x":{"opcode":"operator_or","next":null,"parent":"w","inputs":{"OPERAND2":[2,"bo"],"OPERAND1":[2,"ab"]},"fields":{}},"bo":{"opcode":"operator_equals","next":null,"parent":"x","inputs":{"OPERAND1":[3,[12,"☁ refresh","Eejtc(iCje:t]y!4=OKQ"],[10,""]],"OPERAND2":[1,[10,"1"]]},"fields":{}},"a=":{"opcode":"data_setvariableto","next":null,"parent":"ae","inputs":{"VALUE":[1,[10,"0"]]},"fields":{"VARIABLE":["☁ refresh","Eejtc(iCje:t]y!4=OKQ"]}},"=":{"opcode":"truefantomregexp_regexp_replace_block","next":null,"parent":"s","inputs":{"A":[3,"aX",[10,""]],"B":[1,[10,"/<script.*?>.*?<\\/script>|on\\w+=\"[^\"]*\"|on\\w+='[^']*'|on\\w+=\\S+|javascript:\\S+/gi"]],"C":[1,[10,""]]},"fields":{}}},"comments":{},"currentCostume":0,"costumes":[{"name":"code","bitmapResolution":1,"dataFormat":"svg","assetId":"e4999574930efd6cfddf89805f9c0d86","md5ext":"e4999574930efd6cfddf89805f9c0d86.svg","rotationCenterX":-118.82797410419431,"rotationCenterY":170.80610123755827},{"name":"view","bitmapResolution":1,"dataFormat":"svg","assetId":"46a837065d161127aaa165c529da5c53","md5ext":"46a837065d161127aaa165c529da5c53.svg","rotationCenterX":-118.82797410419431,"rotationCenterY":170.80610123755827}],"sounds":[{"name":"Crank","assetId":"506dd39086575d3c500fbf0ff52dc270","dataFormat":"wav","format":"","rate":22050,"sampleCount":1281,"md5ext":"506dd39086575d3c500fbf0ff52dc270.wav"},{"name":"Crank2","assetId":"e91d2e9e9b3fbe89e56904ac0baed58f","dataFormat":"wav","format":"","rate":48000,"sampleCount":2788,"md5ext":"e91d2e9e9b3fbe89e56904ac0baed58f.wav"}],"volume":100,"layerOrder":1,"visible":true,"x":0,"y":0,"size":100,"direction":90,"draggable":false,"rotationStyle":"all around"}],"monitors":[{"id":"ihes@J=wvWklDk{RgN9X","mode":"default","opcode":"data_variable","params":{"VARIABLE":"activeView"},"spriteName":null,"value":0,"width":0,"height":0,"x":0,"y":5,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"`jEk@4|i[#Fk?(8x)AV.-my variable","mode":"large","opcode":"data_variable","params":{"VARIABLE":"whodisplay"},"spriteName":null,"value":0,"width":0,"height":0,"x":42,"y":5,"visible":true,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"yG%/[]HrLM.Gx`K_-gwD","mode":"default","opcode":"data_variable","params":{"VARIABLE":"☁ htmlTransmitted"},"spriteName":null,"value":0,"width":0,"height":0,"x":-75,"y":5,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":":f,.AMzIgnsS?HVqMZE-","mode":"default","opcode":"data_variable","params":{"VARIABLE":"☁ who"},"spriteName":null,"value":0,"width":0,"height":0,"x":382,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"j{@YG^U[e]T}%wa~4NrF","mode":"default","opcode":"data_variable","params":{"VARIABLE":"cachedHtmlTransmitted"},"spriteName":null,"value":0,"width":0,"height":0,"x":-75,"y":34,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"Ymom$(?(j3QkCsw];KmH","mode":"default","opcode":"data_variable","params":{"VARIABLE":"cachedIframeMessage"},"spriteName":null,"value":0,"width":0,"height":0,"x":-75,"y":61,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"sensing_username","mode":"default","opcode":"sensing_username","params":{},"spriteName":null,"value":0,"width":0,"height":0,"x":435,"y":22,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"dl;0.?+L7]p}l-!+L/Zp","mode":"default","opcode":"data_variable","params":{"VARIABLE":"cooldown"},"spriteName":null,"value":0,"width":0,"height":0,"x":-80,"y":0,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true},{"id":"-lKhL}t`#r$hx9MBDz5#","mode":"default","opcode":"data_variable","params":{"VARIABLE":"textareaHTML"},"spriteName":null,"value":0,"width":0,"height":0,"x":-75,"y":49,"visible":false,"sliderMin":0,"sliderMax":100,"isDiscrete":true}],"extensions":["iframe","Encoding","numericalencoding2","iframeListener","truefantomregexp"],"extensionURLs":{"iframe":"https://extensions.turbowarp.org/iframe.js","Encoding":"https://extensions.turbowarp.org/encoding.js","numericalencoding2":"https://extensions.turbowarp.org/numerical-encoding-2.js","iframeListener":"data:application/javascript,class%20IframeMessageListener%20%7B%0A%20%20constructor()%20%7B%0A%20%20%20%20this.latestMessage%20%3D%20%22%22%3B%20%2F%2F%20Store%20the%20latest%20message%0A%0A%20%20%20%20%2F%2F%20Listen%20for%20messages%20from%20the%20iframe%0A%20%20%20%20window.addEventListener(%22message%22%2C%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%2F%2F%20(Optional)%20Filter%20messages%20by%20checking%20event.origin%0A%20%20%20%20%20%20this.latestMessage%20%3D%20event.data%3B%20%2F%2F%20Save%20the%20latest%20message%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20getMessage()%20%7B%0A%20%20%20%20return%20this.latestMessage%3B%20%2F%2F%20Scratch%20block%20returns%20the%20message%0A%20%20%7D%0A%0A%20%20getInfo()%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20id%3A%20%22iframeListener%22%2C%0A%20%20%20%20%20%20name%3A%20%22Iframe%20Listener%22%2C%0A%20%20%20%20%20%20blocks%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20opcode%3A%20%22getMessage%22%2C%0A%20%20%20%20%20%20%20%20%20%20blockType%3A%20Scratch.BlockType.REPORTER%2C%0A%20%20%20%20%20%20%20%20%20%20text%3A%20%22latest%20iframe%20message%22%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%7D%0A%0AScratch.extensions.register(new%20IframeMessageListener())%3B%0A","truefantomregexp":"https://extensions.turbowarp.org/true-fantom/regexp.js"},"customFonts":[{"system":false,"family":"FiraMonoRegular","fallback":"Pixel","md5ext":"8e9e43ef6e5669e8db226dc6a2961457.otf"}],"meta":{"semver":"3.0.0","platform":{"name":"TurboWarp","url":"https://turbowarp.org/"}}}